<!DOCTYPE html><html lang="en" class="h-full w-full"> <head><title>Sign in</title><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.4.0"><meta name="description" content="Astro and Supabase demo app"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:title" content="Sign in"><meta property="twitter:description" content="Astro and Supabase demo app"><meta property="og:title" content="Sign in"><meta property="og:description" content="Astro and Supabase demo app"><meta property="og:url" content="http://localhost:4321/signin/"><link rel="stylesheet" href="/_astro/dashboard.DF70ZJ9n.css" /></head> <body class="flex flex-col h-full w-full dark:bg-zinc-900 bg-zinc-50 dark:text-zinc-100"> <nav class="border-b bg-white dark:bg-zinc-800 dark:border-zinc-700"> <div class="flex items-baseline justify-end sm:justify-between p-4 max-w-screen-xl mx-auto"> <a href="/" class="hidden sm:block font-semibold dark:text-white">Astro</a> <div> <ul class="font-medium flex items-baseline gap-8"> <li> <a href="/dashboard" class="block text-zinc-900 dark:text-gray-200">Dashboard</a> </li> <li> <a href="/register" class="block text-zinc-900 dark:text-gray-200">Register</a> </li> <li> <a href="/signin" class="block text-zinc-900 dark:text-gray-200">Sign in</a> </li> <li>  </li> </ul> </div> </div> </nav>  <div class="min-h-screen flex justify-center items-center bg-gray-100"> <div class="max-w-md w-full bg-white p-8 rounded-lg shadow-md"> <h1 class="text-3xl font-semibold mb-4">Sign in</h1> <p class="text-gray-600 mb-4">
New here? <a href="/register" class="text-blue-500">Create an account</a> </p> <form onsubmit="async (event) => {
    event.preventDefault();
    const email = event.target.email.value;
    const password = event.target.password.value;
    try {
      if (!email || !password) {
        console.log(&#34;Se requieren password e email&#34;);
        return new Response(&#34;Email and password are required&#34;, { status: 400 });
      }
      const { data, error } = await supabase.auth.signInWithPassword({
        email,
        password
      });
      if (error) {
        console.log(&#34;Hemos tenido un error en el signin&#34;);
        return new Response(error.message, { status: 500 });
      }
      const { access_token, refresh_token } = data.session;
      console.log(&#34;access token: &#34; + access_token);
      console.log(&#34;refresh token: &#34; + refresh_token);
      cookies.set(&#34;sb-access-token&#34;, access_token, {
        path: &#34;/&#34;
      });
      cookies.set(&#34;sb-refresh-token&#34;, refresh_token, {
        path: &#34;/&#34;
      });
      return redirect(&#34;/dashboard&#34;);
    } catch (error) {
      console.error(&#34;Error inesperado:&#34;, error);
    }
  }"> <div class="mb-4"> <label for="email" class="block text-sm font-medium text-gray-700">Email</label> <input type="email" name="email" id="email" class="p-1 mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md bg-gray-50"> </div> <div class="mb-4"> <label for="password" class="block text-sm font-medium text-gray-700">Password</label> <input type="password" name="password" id="password" class="p-1 mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md bg-gray-50"> </div> <button type="submit" class="w-full py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Login</button> </form> </div> </div>  </body></html>